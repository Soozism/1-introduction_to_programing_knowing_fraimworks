# معرفی FastAPI

FastAPI یک فریم‌ورک مدرن و سریع برای ساخت API های وب با استفاده از زبان برنامه‌نویسی Python است. این فریم‌ورک به دلیل سرعت بالا، قابلیت‌های پیشرفته و سادگی در استفاده، به یکی از گزینه‌های محبوب برای توسعه API تبدیل شده است. FastAPI بر پایه استانداردهای OpenAPI و JSON Schema ساخته شده و به توسعه‌دهندگان امکاناتی نظیر تایپ‌دهی استاتیک و مستندات خودکار را ارائه می‌دهد.

## ویژگی‌های اصلی FastAPI

### 1. **سرعت بالا**
FastAPI یکی از سریع‌ترین فریم‌ورک‌های وب برای ایجاد API است که به طور قابل توجهی از سایر فریم‌ورک‌های مشابه مانند Django و Flask سریع‌تر عمل می‌کند. این سرعت به دلیل استفاده از Starlette برای بخش‌های وب و Pydantic برای اعتبارسنجی داده‌ها و تایپ‌دهی است.

### 2. **تایپ‌دهی استاتیک**
FastAPI از تایپ‌دهی استاتیک (Static Typing) در Python استفاده می‌کند که به برنامه‌نویسان این امکان را می‌دهد تا نوع داده‌های ورودی و خروجی را مشخص کنند. این ویژگی باعث بهبود کیفیت کد و کاهش خطاها می‌شود و ابزارهای تحلیل استاتیک و ادیتورهای کد را قادر می‌سازد تا مشکلات کد را قبل از اجرا شناسایی کنند.

### 3. **مستندات خودکار**
یکی از ویژگی‌های برجسته FastAPI، تولید مستندات API به صورت خودکار است. این مستندات به صورت real-time و با استفاده از استانداردهای OpenAPI و JSON Schema تولید می‌شوند. FastAPI به طور پیش‌فرض دو مستندات جذاب را ارائه می‌دهد: Swagger UI و ReDoc، که به توسعه‌دهندگان و مصرف‌کنندگان API این امکان را می‌دهند که به راحتی با API تعامل داشته باشند.

### 4. **اعتبارسنجی داده‌ها**
FastAPI از Pydantic برای اعتبارسنجی و پردازش داده‌ها استفاده می‌کند. Pydantic به طور اتوماتیک داده‌های ورودی را بررسی کرده و اعتبارسنجی می‌کند و در صورت لزوم خطاها را به طور مفصل گزارش می‌دهد. این ویژگی به توسعه‌دهندگان کمک می‌کند تا داده‌های ورودی را به راحتی و به طور دقیق مدیریت کنند.

### 5. **پشتیبانی از Asynchronous Programming**
FastAPI به طور کامل از برنامه‌نویسی ناهمزمان (Asynchronous Programming) پشتیبانی می‌کند، که به توسعه‌دهندگان امکان می‌دهد تا عملیات ورودی/خروجی (I/O) را به صورت غیرهمزمان و بهینه اجرا کنند. این ویژگی باعث افزایش کارایی و مقیاس‌پذیری APIها می‌شود.

### 6. **پشتیبانی از Dependency Injection**
FastAPI از الگوی تزریق وابستگی (Dependency Injection) پشتیبانی می‌کند که به توسعه‌دهندگان این امکان را می‌دهد تا وابستگی‌های مختلف را به راحتی مدیریت و تزریق کنند. این ویژگی باعث بهبود ساختار کد و جداسازی مسئولیت‌ها می‌شود.

## شروع به کار با FastAPI

### نصب و راه‌اندازی
برای شروع کار با FastAPI، ابتدا باید آن را نصب کنید. همچنین برای اجرای برنامه‌های FastAPI نیاز به Uvicorn به عنوان سرور ASGI دارید. می‌توانید این‌ها را با دستور زیر نصب کنید:

```bash
pip install fastapi uvicorn
```

پس از نصب، می‌توانید یک برنامه ساده FastAPI ایجاد کنید. به عنوان مثال، فایل `main.py` زیر یک API ساده را تعریف می‌کند:

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
def read_root():
    return {"Hello": "World"}

@app.get("/items/{item_id}")
def read_item(item_id: int, q: str = None):
    return {"item_id": item_id, "q": q}
```

برای اجرای این برنامه، می‌توانید از دستور زیر استفاده کنید:

```bash
uvicorn main:app --reload
```

این دستور سرور را راه‌اندازی می‌کند و برنامه را در حالت توسعه (با قابلیت Reload) اجرا می‌کند.

### ساختار پروژه
ساختار پروژه FastAPI شامل چندین فایل و پوشه است که بسته به نیاز پروژه ممکن است متفاوت باشد. به طور کلی، یک پروژه FastAPI می‌تواند شامل:

- **main.py:** فایل اصلی که شامل تعاریف مسیرها و منطق API است.
- **models.py:** فایل برای تعریف مدل‌های داده و اعتبارسنجی.
- **routers.py:** فایل برای سازماندهی و مدیریت مسیرها و روترها.
- **schemas.py:** فایل برای تعریف مدل‌های ورودی و خروجی با استفاده از Pydantic.

### توسعه و پیاده‌سازی
با استفاده از FastAPI می‌توانید مسیرهای مختلف را تعریف کنید و عملیات مختلف را به راحتی پیاده‌سازی کنید. همچنین می‌توانید از ویژگی‌های پیشرفته‌ای مانند Middlewareها و Background Tasks برای افزودن قابلیت‌های بیشتر استفاده کنید.

### استقرار (Deployment)
برای استقرار برنامه FastAPI، می‌توانید از سرورهایی مانند Uvicorn، Gunicorn، و یا سرویس‌های ابری مانند Heroku، AWS و Google Cloud استفاده کنید. FastAPI به راحتی با این سرویس‌ها سازگار است و می‌توانید API خود را به سرعت منتشر کنید.

## مزایای استفاده از FastAPI

- **عملکرد بالا:** به دلیل استفاده از Starlette و Pydantic، FastAPI به عنوان یکی از سریع‌ترین فریم‌ورک‌های وب برای ایجاد API شناخته می‌شود.
  
- **مستندات خودکار:** تولید مستندات API به صورت خودکار باعث تسهیل فرآیند تعامل با API و تسریع توسعه می‌شود.

- **تایپ‌دهی استاتیک و اعتبارسنجی:** تایپ‌دهی استاتیک و اعتبارسنجی داده‌ها به کاهش خطاها و بهبود کیفیت کد کمک می‌کند.

- **پشتیبانی از برنامه‌نویسی ناهمزمان:** FastAPI به شما امکان می‌دهد تا عملیات ورودی/خروجی را به صورت غیرهمزمان و بهینه اجرا کنید.

- **سازگاری و انعطاف‌پذیری:** FastAPI به راحتی با سایر ابزارها و کتابخانه‌ها ترکیب می‌شود و از الگوی تزریق وابستگی پشتیبانی می‌کند.

FastAPI با ترکیب قدرت، سرعت و امکانات پیشرفته، یک انتخاب عالی برای توسعه‌دهندگانی است که به دنبال ایجاد API های سریع و مقیاس‌پذیر هستند. این فریم‌ورک با ارائه ویژگی‌های مدرن و مستندات خودکار، تجربه‌ای کارآمد و جذاب برای توسعه‌دهندگان فراهم می‌کند.